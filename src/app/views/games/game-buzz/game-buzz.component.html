<div class="game-buzz">
	<div class="page-introduction">
		<h1 class="sh-yellow">
			<span *ngIf="step === 1">
				Vous pensez avoir trouvé un secret ?
			</span>
			<span *ngIf="step === 2">
				Vous avez buzzé un secret
			</span>
		</h1>
	
		<p class="leading-5">
			<span *ngIf="step === 1">
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequuntur tempora impedit accusantium odio dolorem, voluptates, perferendis excepturi soluta vero placeat aspernatur suscipit id nisi amet alias nam, adipisci corporis reiciendis!
			</span>
			<span *ngIf="step === 2">
				Parsem perferendis excepturi soluta vero placeat aspernatur suscipit id nisi amet alias nam, adipisci corporis reiciendis! 5000€ ont été retirés de votre cagnotte
			</span>
			
		</p>

		<br>
	
		<h2 class="sh-yellow text-xl mt-5">
			<span *ngIf="step === 1">
				Qui souhaitez-vous buzzer ?
			</span>
			<span *ngIf="step === 2">
				Confrontation avec le candidat visé
			</span>
		</h2>
	</div>

	<form class="form-container" [formGroup]="buzzForm" (ngSubmit)="submit()">
		<div class="cards-list">
			<div *ngIf="!contentLoaded" class="cards-swiper cards-loading">
				<ngx-skeleton-loader  class="player-card" count="5" appearance="line" animation="pulse" 
				[theme]="{
					height: '400px',
					width: '275px',
					'border-radius': 0,
					'margin-right': '20px'
				}">
				</ngx-skeleton-loader>
			</div>

			<swiper
				class="cards-swiper"
				[ngClass]="{'locked': step === 2}"
				[config]="swiperConfig"
				*ngIf="playersList"
			>
				<ng-template swiperSlide *ngFor="let player of playersList">
					<label [for]="player.id" >
						<div class="slide-container noselect" [ngClass]="{'is-selected' : formSelectedPlayer.value === player.id}">
							<img class="player-image" [src]="player.avatar" alt="" />
							<input [formControl]="formSelectedPlayer" (change)="selectPlayer($event.target)" class="player-input" type="radio" [id]="player.id" [value]="player.id" name="target" hidden /> 
							<h3 class="player-name text-xl">{{ player.name }}</h3>
						</div>
					</label>
				</ng-template>
			</swiper>

			<div id="secret-form" [ngClass]="{'hidden' : !formSelectedPlayer.value}">
				<sh-input-text *ngIf="step === 1" [label]="'Je pense que son secret est...'" name="selectedPlayerSecret" name="selectedPlayerSecret" id="selectedPlayerSecret" [control]="formSelectedPlayerSecret" required></sh-input-text>
				<sh-button *ngIf="step === 1" color="primary" type="submit">Valider</sh-button>
				<p *ngIf="step === 2">
					Je pense que son secret est...
					<br>
					{{ formSelectedPlayerSecret.value }}
				</p>
			</div>

			<div class="chatroom" *ngIf="step === 2">
				ici c'est le chat
			</div>
		</div>
		

		<div class="swiper-instruction" *ngIf="step === 1">
			<div class="menu-indicator">
				<div class="indicator-wrapper">
					<div class="box-wrapper">
						<div class="box-outer">
							<div class="box"></div>
							<div class="box"></div>
							<div class="box"></div>
							<div class="box"></div>
						</div>
					</div>
		
					<div class="indicator-cursor">
					<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.619 68.23"><title>noun_692985</title><path d="M59.773,79.1l0.033-.176c2.062-9.136,9.688-20.832,8.023-31.685-0.45-2.583-.877-3.861-1.383-4.527-0.33-.435-0.807-0.769-2.285-0.769a4.6,4.6,0,0,0-1.063.116L63.041,47.7a1.875,1.875,0,0,1-3.749-.035l0.061-6.554c0.071-2.036-.252-2.656-0.443-2.862-0.169-.181-0.651-0.485-2.388-0.485a2.962,2.962,0,0,0-2.436.915l-0.07,5.843a1.875,1.875,0,1,1-3.749-.035l0.062-6.553c0.071-2.036-.252-2.657-0.443-2.864-0.169-.181-0.653-0.485-2.389-0.485a3.423,3.423,0,0,0-2.054.551l-0.177.17-0.025,9.4a1.875,1.875,0,0,1-3.749-.011L41.554,21.73c0.071-2.042-.25-2.66-0.443-2.869-0.169-.181-0.652-0.485-2.389-0.485a3.225,3.225,0,0,0-2.223.688,2.533,2.533,0,0,0-.654,2.17l0,0.116V54.614a1.875,1.875,0,0,1-3.75,0V47.837l-0.875.232a4.476,4.476,0,0,0-3.115,3.319A10.042,10.042,0,0,0,29.864,58.8c3.487,5.315,8.108,11.265,9.58,18.686l0.251,1.521Z" transform="translate(-24.187 -14.626)" style="fill:#fff"/><path d="M61.32,82.856l-23.33-.1a1.875,1.875,0,0,1-1.863-1.759c-0.476-7.733-5.126-13.62-9.4-20.132-2.013-3.068-3.083-6.96-2.266-10.351,0.766-3.185,3.113-5.585,7-6.378l0.64-.087V21.35l-0.011-.659a6.017,6.017,0,0,1,1.865-4.38,6.923,6.923,0,0,1,4.769-1.685c1.871,0,3.817.263,5.136,1.683,1.293,1.391,1.519,3.4,1.445,5.492l-0.026,9.37,0.724-.2a8.546,8.546,0,0,1,1.5-.129,10.564,10.564,0,0,1,2.776.309,4.92,4.92,0,0,1,2.36,1.374,4.7,4.7,0,0,1,.782,1.153L53.7,34.519l1.325-.374a8.535,8.535,0,0,1,1.495-.129,10.564,10.564,0,0,1,2.776.309A4.922,4.922,0,0,1,61.657,35.7a5.227,5.227,0,0,1,1.235,2.486l0.015,0.11,0.288-.049a8.892,8.892,0,0,1,.966-0.052,6.109,6.109,0,0,1,5.272,2.251c1.127,1.485,1.653,3.64,2.1,6.188,1.965,12.813-7.146,26.223-8.345,34.614A1.875,1.875,0,0,1,61.32,82.856ZM59.773,79.1l0.033-.176c2.062-9.136,9.688-20.832,8.023-31.685-0.45-2.583-.877-3.861-1.383-4.527-0.33-.435-0.807-0.769-2.285-0.769a4.6,4.6,0,0,0-1.063.116L63.041,47.7a1.875,1.875,0,0,1-3.749-.035l0.061-6.554c0.071-2.036-.252-2.656-0.443-2.862-0.169-.181-0.651-0.485-2.388-0.485a2.962,2.962,0,0,0-2.436.915l-0.07,5.843a1.875,1.875,0,1,1-3.749-.035l0.062-6.553c0.071-2.036-.252-2.657-0.443-2.864-0.169-.181-0.653-0.485-2.389-0.485a3.423,3.423,0,0,0-2.054.551l-0.177.17-0.025,9.4a1.875,1.875,0,0,1-3.749-.011L41.554,21.73c0.071-2.042-.25-2.66-0.443-2.869-0.169-.181-0.652-0.485-2.389-0.485a3.225,3.225,0,0,0-2.223.688,2.533,2.533,0,0,0-.654,2.17l0,0.116V54.614a1.875,1.875,0,0,1-3.75,0V47.837l-0.875.232a4.476,4.476,0,0,0-3.115,3.319A10.042,10.042,0,0,0,29.864,58.8c3.487,5.315,8.108,11.265,9.58,18.686l0.251,1.521Z" transform="translate(-24.187 -14.626)"/></svg>
					</div>
				</div>
			</div>
			<p class="my-5">
				Swipez pour voir tous les habitants
			</p>
		</div>
	</form>
</div>