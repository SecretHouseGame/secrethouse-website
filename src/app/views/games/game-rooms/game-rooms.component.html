<!-- Image de fond de la pièce sélectionnée -->

<div class="game-rooms">
	<div class="page-introduction">
		<h1 class="sh-yellow text-center">
			La maison des secrets
		</h1>

		<p class="leading-5 text-center">
			Choisissez une pièce de la maison pour y accéder et discuter avec les autres habitants.
		</p>
	</div>

	<!-- ANCHOR Lorsqu'une pièce est sélectionnée -->

	<div *ngIf="selectedRoom" class="room-selected">
		<img *ngIf="selectedRoom" [src]="selectedRoom.image" class="room-image" alt="" />
		<div class="grid grid-cols-3 gap-4" *ngIf="selectedRoom">
			<div class="col-span-2">
				<h2 class="sh-yellow">
					{{ selectedRoom.name }}
				</h2>
				<div class="chatroom">
					<!-- Chatroom -->
				</div>
				<div class="chatroom-container">
                    <app-chat-server [id]="getChatServerId()" [roomName]="selectedRoom.name" [channel]="'tab-general'"></app-chat-server>
				</div>
				<div>
					<sh-button (click)="resetRoom()" color="secondary">Sortir de la pièce</sh-button>
				</div>
			</div>
			<div>
				<h2 class="sh-yellow">
					Joueurs dans la pièce
				</h2>
				<div *ngIf="playersInRoom" class="room-players">
					<div *ngFor="let player of playersInRoom" class="room-player" (click)="seePlayer(player.id)">
						{{player.name}}
					</div>
				</div>
				<div *ngIf="!playersInRoom" class="room-players">
					<p>Aucun joueur dans la salle !</p>
				</div>
			</div>
		</div>
	</div>

	<!-- ANCHOR Lorsque l'on a pas sélectionné de pièce -->

	<div class="grid grid-cols-4 gap-4 room-not-selected viewable" *ngIf="!selectedRoom">
		<div class="flex flex-col items-end justify-around mr-10 pr-10">
			<sh-button color="primary" (click)="accessRoom('salle de bain')" (mouseover)="overRoom('room-sdb')" (mouseout)="overRoom('room-sdb')">Salle&nbsp;de&nbsp;bain</sh-button>
			<sh-button color="primary" (click)="accessRoom('cuisine')" (mouseover)="overRoom('room-cuisine')" (mouseout)="overRoom('room-cuisine')">Cuisine</sh-button>
			<sh-button color="primary" (click)="accessRoom('terrasse')" (mouseover)="overRoom('room-terrasse')" (mouseout)="overRoom('room-terrasse')">Terrasse</sh-button>
			<sh-button color="primary" (click)="accessRoom('piscine')" (mouseover)="overRoom('room-piscine')" (mouseout)="overRoom('room-piscine')">Piscine</sh-button>
		</div>
		<div id="house-model" class="col-span-2">
			<div class="house-container">
				<div class="shadows h">
				</div>
				<div class="house h">
					<div class="a1">
						<div class="a1__front face">
							<div class="a1__front--s1 face off"> </div>
							<div class="a1__front--s2 face off"> </div>
							<div class="a1__front--s3 face off"> </div>
							<div class="a1__front--s4 face off"> </div>
						</div>
						<div class="a1__back face"> </div>
						<div class="a1__right face">
							<div class="a1__right--s1 face off"> </div>
							<div class="a1__right--s2 face off"> </div>
							<div class="a1__right--s3 face off"> </div>
							<div class="a1__right--s4 face off"> </div>
						</div>
						<div class="a1__left face"> </div>
						<div class="a1__top face">
							<div class="a1__top--s1 face off"> </div>
							<div class="a1__top--s2 face off"> </div>
							<div class="a1__top--s3 face off"> </div>
							<div class="a1__top--s4 face off"> </div>
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
							<div class="lamp-b lamp-b-3"></div>
							<div class="lamp-b lamp-b-4"></div>
							<div class="lamp-b lamp-b-5"> </div>
						</div>
						<div class="a1__bottom face"> </div>
					</div>
					<div class="b1">
						<div class="b1__front face"> </div>
						<div class="b1__back face"> </div>
						<div class="b1__right face">
							<div class="b1__right--s1 face off"> </div>
							<div class="b1__right--s2 face off"> </div>
						</div>
						<div class="b1__left face"> </div>
						<div class="b1__top face">
							<div class="b1__top--s1 face off"> </div>
							<div class="b1__top--s4 face off"> </div>
							<div class="b1__top--s2 face off"> </div>
							<div class="b1__top--s3 face off"> </div>
							<div class="b1__top--s5 face off"></div>
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
							<div class="lamp-b lamp-b-3"></div>
						</div>
						<div class="b1__bottom face"> </div>
					</div>
					<div class="b2">
						<div class="b2__front face">
							<div class="b2__front--s1 face off"> </div>
							<div class="b2__front--s2 face off"> </div>
						</div>
						<div class="b2__back face"> </div>
						<div class="b2__right face">
							<div class="b2__right--s1 face off"> </div>
						</div>
						<div class="b2__left face"> </div>
						<div class="b2__top face">
							<div class="b2__top--s1 face off"> </div>
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
							<div class="lamp-b lamp-b-3"></div>
							<div class="lamp-b lamp-b-4"></div>
						</div>
						<div class="b2__bottom face"> </div>
					</div>
					<div class="b3">
						<div class="b3__front face">
							<div class="b3__front--s1 face off"> </div>
						</div>
						<div class="b3__back face"> </div>
						<div class="b3__right face">
							<div class="b3__right--s1 face off"> </div>
						</div>
						<div class="b3__left face"> </div>
						<div class="b3__top face">
							<div class="b3__front--s1 face off"> </div>
						</div>
						<div class="b3__bottom face"> </div>
					</div>
					<div class="b4">
						<div class="b4__front face">
							<div class="b4__front--s1 face off"> </div>
							<div class="lamp-t lamp-t-1 off"></div>
							<div class="lamp-t lamp-t-2 off"></div>
							<div class="lamp-t lamp-t-3 off"></div>
							<div class="lamp-t lamp-t-4 off"></div>
							<div class="lamp-t lamp-t-5 off"></div>
						</div>
						<div class="b4__back face"> </div>
						<div class="b4__right face"> </div>
						<div class="b4__left face"> </div>
						<div class="b4__top face"> </div>
						<div class="b4__bottom face"> </div>
					</div>
					<div class="b5">
						<div class="b5__front face"> </div>
						<div class="b5__back face"> </div>
						<div class="b5__right face">
							<div class="b5__right--s2 face off"> </div>
							<div class="b5__right--s1 face off"> </div>
							<div class="lamp-t lamp-t-1 off"></div>
							<div class="lamp-t lamp-t-2 off"></div>
							<div class="lamp-t lamp-t-3 off"></div>
							<div class="lamp-t lamp-t-4 off"></div>
						</div>
						<div class="b5__left face"> </div>
						<div class="b5__top face"> </div>
						<div class="b5__bottom face"> </div>
					</div>
					<div class="bc2 crystal room-terrasse" (click)="accessRoom('terrasse')" (mouseover)="overRoom('room-terrasse')" (mouseout)="overRoom('room-terrasse')">
						<div class="bc2__front face"> </div>
						<div class="bc2__left face"> </div>
					</div>
					<div class="bc3 crystal room-piscine" (click)="accessRoom('piscine')" (mouseover)="overRoom('room-piscine')" (mouseout)="overRoom('room-piscine')">
						<div class="bc3__front face"> </div>
						<div class="bc3__right face"> </div>
					</div>
					<div class="bc4 crystal">
						<div class="bc4__back face"> </div>
						<div class="bc4__right face"> </div>
					</div>
					<div class="bp1a"></div>
					<div class="bp1b">
						<div class="bp1b--s1 off"></div>
					</div>
					<div class="bp2">
						<div class="bp2__front face"> </div>
						<div class="bp2__back face"> </div>
						<div class="bp2__right face">
							<div class="bp2__right--s1 face off"> </div>
						</div>
						<div class="bp2__left face"> </div>
						<div class="bp2__top face">
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
						</div>
						<div class="bp2__bottom face"> </div>
					</div>
					<div class="bp3">
						<div class="bp3__front face"> </div>
						<div class="bp3__back face"> </div>
						<div class="bp3__right face"> </div>
						<div class="bp3__left face"> </div>
						<div class="bp3__top face">
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
						</div>
						<div class="bp3__bottom face"> </div>
					</div>
					<div class="bp4">
						<div class="bp4__front face"> </div>
						<div class="bp4__back face"> </div>
						<div class="bp4__right face"> </div>
						<div class="bp4__left face"> </div>
						<div class="bp4__top face">
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
						</div>
						<div class="bp4__bottom face"> </div>
					</div>
					<div class="bp5">
						<div class="bp5__front face"> </div>
						<div class="bp5__back face"> </div>
						<div class="bp5__right face"> </div>
						<div class="bp5__left face"> </div>
						<div class="bp5__top face">
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
						</div>
						<div class="bp5__bottom face"> </div>
					</div>
					<div class="bp6">
						<div class="bp6__front face"> </div>
						<div class="bp6__back face"> </div>
						<div class="bp6__right face"> </div>
						<div class="bp6__left face"> </div>
						<div class="bp6__top face">
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
						</div>
						<div class="bp6__bottom face"> </div>
					</div>
					<div class="be1">
						<div class="be1__front face"> </div>
						<div class="be1__back face"> </div>
						<div class="be1__right face"> </div>
						<div class="be1__left face"> </div>
						<div class="be1__top face">
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
						</div>
						<div class="be1__bottom face"> </div>
					</div>
					<div class="be2">
						<div class="be2__front face"> </div>
						<div class="be2__back face"> </div>
						<div class="be2__right face"> </div>
						<div class="be2__left face"> </div>
						<div class="be2__top face">
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
						</div>
						<div class="be2__bottom face"> </div>
					</div>
					<div class="be3">
						<div class="be3__front face"> </div>
						<div class="be3__back face"> </div>
						<div class="be3__right face"> </div>
						<div class="be3__left face"> </div>
						<div class="be3__top face">
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
						</div>
						<div class="be3__bottom face"> </div>
					</div>
					<div class="be4">
						<div class="be4__front face"> </div>
						<div class="be4__back face"> </div>
						<div class="be4__right face"> </div>
						<div class="be4__left face"> </div>
						<div class="be4__top face">
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
						</div>
						<div class="be4__bottom face"> </div>
					</div>
					<div class="c1">
						<div class="c1__front face">
							<div class="c1__front--s1 face off"> </div>
							<div class="c1__front--s2 face off"> </div>
						</div>
						<div class="c1__back face"> </div>
						<div class="c1__right face">
							<div class="c1__right--s1 face off"> </div>
							<div class="c1__right--s2 face off"> </div>
						</div>
						<div class="c1__left face"> </div>
						<div class="c1__bottom face"> </div>
					</div>
					<div class="c2">
						<div class="c2__front face">
							<div class="c2__front--s1 face off"> </div>
							<div class="c2__front--s2 face off"> </div>
						</div>
						<div class="c2__back face"> </div>
						<div class="c2__right face">
							<div class="c2__right--s1 face off"> </div>
							<div class="c2__right--s2 face off"> </div>
						</div>
						<div class="c2__left face"> </div>
						<div class="c2__bottom face"> </div>
					</div>
					<div class="c3">
						<div class="c3__front face">
							<div class="c3__front--s1 face off"> </div>
							<div class="c3__front--s2 face off"> </div>
						</div>
						<div class="c3__back face"> </div>
						<div class="c3__right face">
							<div class="c3__right--s1 face off"> </div>
							<div class="c3__right--s2 face off"> </div>
						</div>
						<div class="c3__left face"> </div>
						<div class="c3__top face">
							<div class="c3__top--s1 face off"> </div>
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
							<div class="lamp-b lamp-b-3"></div>
							<div class="lamp-b lamp-b-4"></div>
						</div>
						<div class="c3__bottom face"> </div>
					</div>
					<div class="c4">
						<div class="c4__front face">
							<div class="c4__front--s1 face off"> </div>
							<div class="c4__front--s2 face off"> </div>
						</div>
						<div class="c4__back face"> </div>
						<div class="c4__right face">
							<div class="c4__right--s1 face off"> </div>
							<div class="c4__right--s2 face off"> </div>
						</div>
						<div class="c4__left face"> </div>
						<div class="c4__top face">
							<div class="c4__top--s1 face off"> </div>
						</div>
						<div class="c4__bottom face"> </div>
					</div>
					<div class="cc1 window">
						<div class="cc1__front face room-salon" (click)="accessRoom('salon')" (mouseover)="overRoom('room-salon')" (mouseout)="overRoom('room-salon')"> </div>
						<div class="cc1__back face"> </div>
						<div class="cc1__right face room-confessionnal" (click)="accessRoom('confessionnal')"  (mouseover)="overRoom('room-confessionnal')" (mouseout)="overRoom('room-confessionnal')">
						</div>
						<div class="cc1__left face"> </div>
						<div class="cc1__top face"> </div>
						<div class="cc1__bottom face face-b"> </div>
					</div>
					<div class="cc2 window">
						<div class="cc2__front face room-cuisine" (click)="accessRoom('cuisine')" (mouseover)="overRoom('room-cuisine')" (mouseout)="overRoom('room-cuisine')"> </div>
						<div class="cc2__back face"> </div>
						<div class="cc2__right face"> </div>
						<div class="cc2__left face"> </div>
						<div class="cc2__top face"> </div>
						<div class="cc2__bottom face face-b"> </div>
					</div>
					<div class="cc3 crystal room-balcon" (click)="accessRoom('balcon')" (mouseover)="overRoom('room-balcon')" (mouseout)="overRoom('room-balcon')">
						<div class="cc3__front face"> </div>
						<div class="cc3__back face"> </div>
						<div class="cc3__right face"> </div>
					</div>
					<div class="d1">
						<div class="d1__front face"> </div>
						<div class="d1__back face"> </div>
						<div class="d1__right face">
							<div class="d1__right--s1 face off"> </div>
							<div class="d1__right--s2 face off"> </div>
							<div class="lamp-t lamp-t-1"></div>
						</div>
						<div class="d1__left face"> </div>
						<div class="d1__top face"> </div>
						<div class="d1__bottom face"> </div>
					</div>
					<div class="d2">
						<div class="d2__front face">
							<div class="d2__front--s1 face off"> </div>
						</div>
						<div class="d2__back face"> </div>
						<div class="d2__right face"> </div>
						<div class="d2__left face"> </div>
						<div class="d2__top face"> </div>
						<div class="d2__bottom face"> </div>
					</div>
					<div class="d3">
						<div class="d3__front face">
							<div class="d3__front--s1 face off"> </div>
							<div class="d3__front--s2 face off"> </div>
						</div>
						<div class="d3__back face"> </div>
						<div class="d3__right face">
							<div class="d3__right--s1 face off"> </div>
							<div class="d3__right--s2 face off"> </div>
						</div>
						<div class="d3__left face"> </div>
						<div class="d3__top face">
							<div class="d3__top--s1 face"> </div>
							<div class="lamp-b lamp-b-1"></div>
							<div class="lamp-b lamp-b-2"></div>
							<div class="lamp-b lamp-b-3"></div>
							<div class="lamp-b lamp-b-4"></div>
							<div class="lamp-b lamp-b-5"></div>
							<div class="lamp-b lamp-b-6"></div>
						</div>
						<div class="d3__bottom face"> </div>
					</div>
					<div class="e1">
						<div class="e1__front face"> </div>
						<div class="e1__back face"> </div>
						<div class="e1__right face">
							<div class="e3__front--s1 off"></div>
							<div class="e3__front--s2 off"></div>
						</div>
						<div class="e1__left face"> </div>
						<div class="e1__top face"> </div>
						<div class="e1__bottom face"> </div>
					</div>
					<div class="e2">
						<div class="e2__front face">
							<div class="e3__front--s1 off"> </div>
						</div>
						<div class="e2__back face"> </div>
						<div class="e2__right face">
							<div class="e2__right--s1 face"> </div>
						</div>
						<div class="e2__left face"> </div>
						<div class="e2__top face"></div>
						<div class="e2__bottom face"> </div>
					</div>
					<div class="e3">
						<div class="e3__front face">
							<div class="e3__front--s1 off"></div>
						</div>
						<div class="e3__back face"> </div>
						<div class="e3__right face">
							<div class="e3__right--s1 off"></div>
							<div class="e3__right--s2 off"></div>
						</div>
						<div class="e3__left face"> </div>
						<div class="e3__top face"> </div>
						<div class="e3__bottom face"> </div>
					</div>
					<div class="e4 window">
						<div class="e4__right face room-chambre" (click)="accessRoom('chambre')"  (mouseover)="overRoom('room-chambre')" (mouseout)="overRoom('room-chambre')"> </div>
					</div>
					<div class="e5 window">
						<div class="e5__front face room-sdb" (click)="accessRoom('salle de bain')" (mouseover)="overRoom('room-sdb')" (mouseout)="overRoom('room-sdb')"></div>
						<div class="e5__right face room-sdb" (click)="accessRoom('salle de bain')" (mouseover)="overRoom('room-sdb')" (mouseout)="overRoom('room-sdb')"> </div>
						<div class="e5__bottom face"> </div>
					</div>
				</div>
				<div class="input">
					<input class="input__checkbox" type="checkbox" id="ch" />
					<label class="input__label" for="cb"></label>
				</div>
			</div>
		</div>

		<div class="flex flex-col justify-around">
			<sh-button color="primary" (click)="accessRoom('chambre')" (mouseover)="overRoom('room-chambre')" (mouseout)="overRoom('room-chambre')">Chambres</sh-button>
			<sh-button color="primary" (click)="accessRoom('balcon')" (mouseover)="overRoom('room-balcon')" (mouseout)="overRoom('room-balcon')" >Balcon</sh-button>
			<sh-button color="primary" (click)="accessRoom('salon')" (mouseover)="overRoom('room-salon')" (mouseout)="overRoom('room-salon')">Salon</sh-button>
			<sh-button color="primary" (click)="accessRoom('confessionnal')" (mouseover)="overRoom('room-confessionnal')" (mouseout)="overRoom('room-confessionnal')">Confessionnal</sh-button>
		</div>
	</div>

</div>

<sh-modal>
	<div *ngIf="viewPlayer"class="grid grid-cols-5 gap-4" id="view-player-modal">
		<div class="col-span-2 player-avatar-container">
			<img class="player-avatar" alt="" src="./assets/images/players/catherine.png" />
		</div>
		<div class="col-span-3">
			<h2 class="mb-5">{{viewPlayer.name}}</h2>
			<div class="grid grid-cols-5 gap-4">
				<div class="col-span-2">
					<p class="player-modal-line uppercase label">Cagnotte :</p>
					<p class="player-modal-line uppercase label">Genre :</p>
					<p class="player-modal-line uppercase label">Secret :</p>
				</div>
				<div class="col-span-3	">
					<p class="player-modal-line">{{viewPlayer.jackpot}} €</p>
					<p class="player-modal-line" *ngIf="viewPlayer.gender">{{viewPlayer.gender}}</p>
					<p class="player-modal-line" *ngIf="!viewPlayer.gender">Inconnu</p>

					<p class="player-modal-line" *ngIf="!viewPlayer.canBeBuzzed">Découvert : "{{viewPlayer.secret}}"</p>
					<p class="player-modal-line" *ngIf="viewPlayer.canBeBuzzed">Non découvert</p>
				</div>
			</div>
		</div>
	</div>
</sh-modal>
